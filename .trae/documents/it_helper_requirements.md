# IT学习辅助系统 - 需求文档

## 介绍

IT学习辅助系统是一个基于文档识别的智能学习辅助平台，能够自动识别上传文档的类型（面试题文档、IT技术文档、架构/搭建文档），并根据不同类型提供针对性的学习辅助功能，包括内容总结、问题生成、学习路径规划、配置流程提取等。系统支持多种文档格式（PDF、Word、PPT、Markdown、TXT），并提供实时处理进度显示和历史记录功能。

## 需求

### REQ-1 文档上传功能

#### 用户故事
作为用户，我希望能够上传各种格式的文档，以便系统能够处理和分析这些文档。

#### 验收标准
1. When 用户选择文档文件时，系统应当支持上传以下格式：PDF、Word（.docx）、PPT（.pptx）、Markdown（.md）、TXT（.txt）。
2. When 用户上传文件时，系统应当验证文件大小，如果文件大小超过30MB，系统应当拒绝上传并提示错误信息。
3. When 用户上传文件时，系统应当验证文件格式，如果文件格式不在支持列表中，系统应当拒绝上传并提示错误信息。
4. When 文档上传成功后，系统应当返回文档ID和上传状态。
5. When 文档上传过程中，系统应当显示上传进度百分比。

---

### REQ-2 文档内容提取功能

#### 用户故事
作为系统，我需要能够从不同格式的文档中提取文本内容，以便后续进行类型识别和处理。

#### 验收标准
1. When 文档上传成功后，系统应当自动开始提取文档内容。
2. When 处理PDF文档时，系统应当提取所有页面的文本内容。
3. When 处理Word文档时，系统应当提取文档正文、标题、列表等结构化内容。
4. When 处理PPT文档时，系统应当提取所有幻灯片的文本内容，包括标题和正文。
5. When 处理Markdown文档时，系统应当提取Markdown格式的文本内容。
6. When 处理TXT文档时，系统应当提取纯文本内容。
7. When 文档内容提取过程中，系统应当实时更新处理进度（0-100%）。
8. When 内容提取失败时，系统应当记录错误信息并提示用户。

---

### REQ-3 文档类型自动识别功能

#### 用户故事
作为系统，我需要能够自动识别上传文档的类型（面试题文档、IT技术文档、架构/搭建文档），以便应用相应的处理策略。

#### 验收标准
1. When 文档内容提取完成后，系统应当自动开始文档类型识别。
2. When 识别文档类型时，系统应当结合规则匹配和DeepSeek AI判断两种方式。
3. When 识别为面试题文档时，系统应当标记文档类型为"面试题"。
4. When 识别为IT技术文档时，系统应当标记文档类型为"技术文档"。
5. When 识别为架构/搭建文档时，系统应当标记文档类型为"架构文档"。
6. When 无法确定文档类型时，系统应当标记为"未知"，并允许用户手动选择类型。
7. When 文档类型识别过程中，系统应当实时更新处理进度。

---

### REQ-4 面试题文档处理功能

#### 用户故事
作为用户，当我上传面试题文档时，我希望系统能够总结内容并生成相关问题，帮助我更好地学习和复习。

#### 验收标准
1. When 文档类型识别为"面试题"时，系统应当启动面试题处理流程。
2. When 处理面试题文档时，系统应当提取并总结以下内容：
   - 关键知识点列表
   - 题型分布统计（选择题、问答题、编程题等）
   - 难度分析（简单、中等、困难）
   - 题目数量统计
3. When 处理面试题文档时，系统应当基于原文档内容，使用DeepSeek AI生成3-5个新的相关问题。
4. When 处理面试题文档时，系统应当识别并整理文档中已有的答案（如有）。
5. When 面试题处理完成后，系统应当以结构化格式展示处理结果。
6. When 面试题处理过程中，系统应当实时更新处理进度。

---

### REQ-5 IT技术文档处理功能

#### 用户故事
作为用户，当我上传IT技术文档时，我希望系统能够从架构师或讲师的角度，提供学习该技术的前置条件、学习路径和方法建议。

#### 验收标准
1. When 文档类型识别为"技术文档"时，系统应当启动技术文档处理流程。
2. When 处理技术文档时，系统应当分析并提取以下内容：
   - 前置知识清单（必须掌握的基础知识）
   - 推荐掌握的基础知识（可选）
   - 学习路径规划（分阶段学习建议，至少3个阶段）
   - 学习方法建议（理论学习和实践建议）
3. When 生成学习路径时，系统应当从架构师或讲师的角度，提供循序渐进的学习建议。
4. When 处理技术文档时，系统应当识别该技术与其他技术的关联关系。
5. When 技术文档处理完成后，系统应当以结构化格式展示处理结果。
6. When 技术文档处理过程中，系统应当实时更新处理进度。

---

### REQ-6 架构/搭建文档处理功能

#### 用户故事
作为用户，当我上传架构或系统搭建文档时，我希望系统能够提供清晰的配置流程、组件全景视图，并用白话解释技术细节。

#### 验收标准
1. When 文档类型识别为"架构文档"时，系统应当启动架构文档处理流程。
2. When 处理架构文档时，系统应当提取并整理配置流程，以步骤化的方式展示（至少包含步骤编号和描述）。
3. When 处理架构文档时，系统应当识别文档中提到的所有组件，并生成组件关系说明。
4. When 处理架构文档时，系统应当生成组件在系统中的全景视图（文字描述或Mermaid图表）。
5. When 处理架构文档时，系统应当使用通俗易懂的白话语言，解释技术细节和配置步骤。
6. When 处理架构文档时，系统应当生成配置检查清单，包含验证步骤。
7. When 架构文档处理完成后，系统应当以结构化格式展示处理结果。
8. When 架构文档处理过程中，系统应当实时更新处理进度。

---

### REQ-7 实时处理进度显示功能

#### 用户故事
作为用户，在处理文档时，我希望能够看到实时的处理进度，了解当前处理状态。

#### 验收标准
1. When 文档开始处理时，系统应当显示处理进度条，初始值为0%。
2. When 文档处理过程中，系统应当实时更新进度百分比（0-100%）。
3. When 文档处理过程中，系统应当显示当前处理阶段（如：内容提取中、类型识别中、AI处理中等）。
4. When 使用Web界面时，系统应当通过WebSocket或Server-Sent Events实时推送进度更新。
5. When 处理完成时，系统应当显示100%进度并提示处理完成。
6. When 处理失败时，系统应当显示错误信息并停止进度更新。

---

### REQ-8 处理结果展示功能

#### 用户故事
作为用户，我希望能够以清晰、易读的方式查看文档处理结果。

#### 验收标准
1. When 文档处理完成后，系统应当在Web界面中展示处理结果。
2. When 展示处理结果时，系统应当使用轻松风格的UI设计（现代、友好、易用）。
3. When 展示面试题处理结果时，系统应当分别展示：内容总结、生成的问题、答案整理（如有）。
4. When 展示技术文档处理结果时，系统应当分别展示：前置知识清单、学习路径、学习方法建议。
5. When 展示架构文档处理结果时，系统应当分别展示：配置流程、组件全景视图、白话串讲、配置检查清单。
6. When 展示处理结果时，系统应当支持结果内容的展开/折叠，提升可读性。
7. When 展示处理结果时，系统应当支持结果内容的复制功能。

---

### REQ-9 处理历史记录功能

#### 用户故事
作为用户，我希望能够查看之前处理过的文档历史，方便回顾和管理。

#### 验收标准
1. When 文档处理完成后，系统应当自动保存处理历史记录。
2. When 保存历史记录时，系统应当存储以下信息：
   - 文档ID、文件名、文件大小、上传时间
   - 文档类型、处理状态、处理完成时间
   - 处理结果摘要
3. When 用户访问历史记录页面时，系统应当显示所有历史记录列表。
4. When 用户查看历史记录时，系统应当支持按文档类型、处理时间进行筛选。
5. When 用户点击历史记录时，系统应当展示该文档的完整处理结果。
6. When 用户查看历史记录时，系统应当支持删除历史记录功能。

---

### REQ-10 系统学习数据收集功能

#### 用户故事
作为系统，我需要收集处理历史数据，为后续的系统学习和优化做准备。

#### 验收标准
1. When 文档处理完成后，系统应当收集并存储以下数据：
   - 文档内容摘要（向量化）
   - 文档类型识别结果
   - 处理结果摘要
   - 处理耗时统计
2. When 存储系统学习数据时，系统应当使用PostgreSQL数据库，并支持后续的向量扩展（pgvector）。
3. When 收集系统学习数据时，系统应当确保数据格式统一，便于后续分析。
4. When 系统学习数据收集失败时，系统应当记录错误日志，但不影响正常的文档处理流程。

---

### REQ-11 Web界面功能

#### 用户故事
作为用户，我希望通过Web界面使用系统，界面应该轻松友好，易于操作。

#### 验收标准
1. When 用户访问系统时，系统应当提供Web界面入口。
2. When 显示Web界面时，系统应当使用轻松风格的设计（现代、友好、易用）。
3. When 显示Web界面时，系统应当包含以下主要区域：
   - 文档上传区域
   - 处理进度显示区域
   - 处理结果展示区域
   - 历史记录查看区域
4. When 用户操作界面时，系统应当提供清晰的操作提示和反馈。
5. When 界面加载时，系统应当确保响应速度在合理范围内（首屏加载<2秒）。

---

### REQ-12 错误处理功能

#### 用户故事
作为用户，当系统出现错误时，我希望能够收到清晰的错误提示，了解问题原因。

#### 验收标准
1. When 文档上传失败时，系统应当显示具体的错误信息（如：文件过大、格式不支持等）。
2. When 文档处理失败时，系统应当显示错误原因和可能的解决方案。
3. When 系统内部错误发生时，系统应当记录详细错误日志，并向用户显示友好的错误提示。
4. When 网络错误发生时，系统应当提示用户检查网络连接并重试。
5. When DeepSeek API调用失败时，系统应当提示用户稍后重试，并记录错误信息。

---

### REQ-13 Docker容器化部署功能

#### 用户故事
作为系统管理员，我希望系统能够通过Docker容器化部署，确保环境一致性和易于管理。

#### 验收标准
1. When 部署系统时，系统应当提供完整的Dockerfile配置。
2. When 部署系统时，系统应当提供docker-compose.yml文件，用于编排多容器服务。
3. When 使用docker-compose部署时，系统应当包含以下服务：
   - 后端服务容器
   - 前端服务容器
   - PostgreSQL数据库容器
   - Redis缓存容器
4. When 容器启动时，系统应当确保各服务之间的网络通信正常。
5. When 容器启动时，系统应当确保数据持久化使用docker volume。
6. When 部署系统时，系统应当提供清晰的部署文档和启动说明。

---

## 非功能需求

### NFR-1 性能要求
1. When 处理小于10MB的文档时，系统应当在30秒内完成处理。
2. When 处理10-30MB的文档时，系统应当在2分钟内完成处理。
3. When 系统并发处理多个文档时，系统应当支持至少5个并发任务。

### NFR-2 可用性要求
1. When 系统运行时，系统应当确保服务可用性达到95%以上。
2. When 系统出现故障时，系统应当能够在5分钟内恢复服务。

### NFR-3 安全性要求
1. When 存储用户文档时，系统应当确保文档内容的安全性，防止未授权访问。
2. When 调用DeepSeek API时，系统应当安全存储API密钥，不得在代码中硬编码。

### NFR-4 可维护性要求
1. When 开发系统时，系统应当遵循代码规范，提供必要的注释。
2. When 部署系统时，系统应当提供完整的部署文档和运维说明。

---

## 术语表

- **面试题文档**：包含技术面试题目和答案的文档
- **IT技术文档**：介绍特定IT技术、框架、工具的学习文档
- **架构文档**：描述系统架构设计或系统搭建配置的文档
- **DeepSeek API**：DeepSeek提供的AI模型API服务
- **向量化**：将文本转换为数值向量的过程，用于相似度计算和搜索
- **pgvector**：PostgreSQL的向量扩展，支持向量数据存储和搜索

---

**文档版本**：v1.0  
**创建时间**：2025-12-09  
**最后更新**：2025-12-09

