# 快速开始检查清单

本清单帮助您快速检查系统部署是否完整，确保所有必需配置都已正确设置。

## ✅ 部署前检查

### 1. 环境要求
- [ ] Docker 已安装（版本 20.10+）
- [ ] Docker Compose 已安装（版本 2.0+）
- [ ] 系统资源充足（CPU: 2核心+，内存: 4GB+，磁盘: 10GB+）

**检查命令：**
```bash
docker --version
docker-compose --version
```

### 2. 项目文件
- [ ] 项目已克隆到本地
- [ ] `.env.example` 文件存在
- [ ] `docker-compose.yml` 文件存在

**检查命令：**
```bash
ls -la .env.example
ls -la docker-compose.yml
```

## ✅ 配置检查

### 3. 环境变量配置
- [ ] 已创建 `.env` 文件（从 `.env.example` 复制）
- [ ] `POSTGRES_PASSWORD` 已配置（强密码，至少8位）
- [ ] `DEEPSEEK_API_KEY` 已配置（格式：`sk-xxxxx`）
- [ ] `DEEPSEEK_API_BASE` 已配置（默认：`https://api.deepseek.com`）

**检查命令：**
```bash
# 检查 .env 文件是否存在
ls -la .env

# 检查必需配置（不显示实际值，只检查是否存在）
grep -q "POSTGRES_PASSWORD=" .env && echo "✓ POSTGRES_PASSWORD 已配置" || echo "✗ POSTGRES_PASSWORD 未配置"
grep -q "DEEPSEEK_API_KEY=" .env && echo "✓ DEEPSEEK_API_KEY 已配置" || echo "✗ DEEPSEEK_API_KEY 未配置"
```

### 4. DeepSeek API Key 验证
- [ ] 已访问 DeepSeek 官网并注册/登录
- [ ] 已在 API 管理页面创建 API Key
- [ ] API Key 已复制并填入 `.env` 文件
- [ ] API Key 格式正确（以 `sk-` 开头）

**获取步骤：**
1. 访问 https://www.deepseek.com/
2. 注册/登录账号
3. 进入 API 管理页面
4. 创建新的 API Key
5. 复制并配置到 `.env` 文件

详细说明请查看 [DeepSeek配置文档](docs/3_DeepSeek配置.md)

## ✅ 服务启动检查

### 5. 服务启动
- [ ] 已执行 `docker-compose up -d`
- [ ] 所有服务容器都在运行
- [ ] 数据库容器状态为 `healthy`
- [ ] Redis 容器状态为 `healthy`

**检查命令：**
```bash
# 查看所有服务状态
docker-compose ps

# 应该看到所有服务都是 "Up" 状态：
# - it-doc-helper-postgres (healthy)
# - it-doc-helper-redis (healthy)
# - it-doc-helper-backend (running)
# - it-doc-helper-worker (running)
# - it-doc-helper-frontend (running)
```

### 6. 服务健康检查
- [ ] 后端 API 健康检查通过
- [ ] 前端服务可访问
- [ ] API 文档可访问

**检查命令：**
```bash
# 健康检查
curl http://localhost:8000/health
# 预期响应: {"status":"healthy"}

# 检查前端（应该返回 HTML）
curl -I http://localhost/it-doc-helper
# 预期状态码: 200

# 检查 API 文档
curl -I http://localhost:8000/docs
# 预期状态码: 200
```

## ✅ 功能测试检查

### 7. 基本功能测试
- [ ] 可以访问前端界面
- [ ] 可以访问 API 文档
- [ ] 可以上传文档（测试文件）
- [ ] 文档处理任务可以启动
- [ ] 可以查看处理进度
- [ ] 可以查看处理结果

**测试步骤：**
1. 打开浏览器访问：http://localhost/it-doc-helper
2. 上传一个测试文档（PDF/Word/PPT/Markdown/TXT，<30MB）
3. 观察处理进度
4. 查看处理结果

详细测试说明请查看 [系统测试文档](docs/5_系统测试.md)

## ⚠️ 常见问题检查

### 8. 如果服务无法启动
- [ ] 检查端口是否被占用（80, 8000, 5432, 6379）
- [ ] 检查 `.env` 文件配置是否正确
- [ ] 查看服务日志：`docker-compose logs`

**排查命令：**
```bash
# 检查端口占用
netstat -tuln | grep -E ':(80|8000|5432|6379)'

# 查看服务日志
docker-compose logs backend
docker-compose logs worker
```

### 9. 如果 API 调用失败
- [ ] 检查 DeepSeek API Key 是否正确
- [ ] 检查网络连接（需要访问 api.deepseek.com）
- [ ] 查看后端日志：`docker-compose logs backend | grep -i deepseek`

**排查命令：**
```bash
# 测试 DeepSeek API 连接
curl https://api.deepseek.com

# 查看 API Key 配置（不显示实际值）
docker exec it-doc-helper-backend env | grep DEEPSEEK_API_KEY
```

## 📚 相关文档

- [一键部署指南](docs/2_一键部署指南.md) - 详细的部署说明
- [DeepSeek配置](docs/3_DeepSeek配置.md) - API Key 获取和配置
- [系统测试](docs/5_系统测试.md) - 功能测试指南
- [问题排查](docs/6_问题排查.md) - 常见问题解决方案

## ✅ 完成检查

如果以上所有检查项都通过，恭喜！系统已成功部署，可以开始使用了！

**下一步：**
1. 访问前端界面：http://localhost/it-doc-helper
2. 上传第一个文档进行测试
3. 查看处理结果，体验系统功能

---

**最后更新**: 2025-12-12

